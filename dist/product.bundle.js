!function(){"use strict";class e{constructor(e){e&&Object.assign(this,e)}getFormatedPrice(){return(this.price/100).toFixed(2)+" â‚¬"}setTeddyURL(e){e.searchParams.set("id",this._id)}createPreview(e){document.querySelector(".teddyList").innerHTML+=`<a href="${e}" class="teddyList__item card shadow mb-3">\n                                                                <img alt="ours en peluche" src=${this.imageUrl}>\n                                                                <div class="card-body pb-1">\n                                                                    <h3 class="h5">${this.name}</h3>\n                                                                    <p>${this.getFormatedPrice()}</p>\n                                                                </div>\n                                                            </a>\n                                                            `}createDescription(){document.querySelector(".teddyPage").innerHTML+=`<img src="${this.imageUrl}" alt="ours en peluche">\n                                                                    <div class="card-body">\n                                                                        <h1 class="h2">${this.name}</h1>\n                                                                        <p class="h5">Prix: <span class="text-secondary">${this.getFormatedPrice()}</span></p>\n                                                                        <p>Nos prix incluent la TVA</p>\n                                                                        <strong>Description de l'article</strong>\n                                                                        <p>${this.description}</p>\n                                                                        <select name="colorSelect" class="teddyPage__colorSelect">\n                                                                        \n                                                                        </select>\n                                                                        <button class="btn--addToCart btn-primary">Ajouter au panier</button>\n                                                                    </div>`;for(let e of this.colors)document.querySelector(".teddyPage__colorSelect").innerHTML+="<option>"+e+"</option>"}createCartItem(){document.querySelector(".teddyCart").innerHTML+=`<div class="teddyCart__item card d-flex flex-row mb-2">\n                                                                    <img src="${this.imageUrl}" alt="ours en peluche">\n                                                                    <div class='d-flex card-body flex-row justify-content-between'>\n                                                                        <div>\n                                                                            <p class='h3'>${this.name}</p>\n                                                                        </div>\n                                                                        <p class="teddyCart__itemPrice text-secondary h5">${this.getFormatedPrice()}</p>\n                                                                    </div>\n                                                                </div>`}}function t(){let e=localStorage.getItem("cartList");return null==e?[]:JSON.parse(e)}let n=new URL(window.location.href).searchParams.toString().slice(3);document.querySelector(".itemCount").innerText=t().length,fetch("http://localhost:3000/api/teddies/"+n).then((e=>e.json())).then((r=>{new e(r).createDescription(),document.querySelector(".btn--addToCart").addEventListener("click",(function(e){e.stopPropagation,function(e){let n=t();n.push(e),function(e){localStorage.setItem("cartList",JSON.stringify(e))}(n),location.reload()}(n)}))})).catch((function(e){console.error(e)}))}();
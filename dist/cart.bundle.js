!function(){let e=getCart(),t=0;function n(){var e=!0;for(let t of document.querySelectorAll(".form input")){if(!(e&=t.reportValidity())){t.classList.remove("is-valid"),t.classList.add("is-invalid");break}t.classList.remove("is-invalid"),t.classList.add("is-valid")}if(e)return!0}e.length>0?(function(){for(let n of e)fetch("http://localhost:3000/api/teddies/"+n).then((e=>e.json())).then((e=>{let n=new Teddy(e);document.querySelector(".teddyCart").innerHTML+=`<div class="teddyCart__item card d-flex flex-row mb-2">\n                                                                    <img src="${n.imageUrl}" alt="ours en peluche">\n                                                                    <div class='d-flex card-body flex-row justify-content-between'>\n                                                                        <div>\n                                                                            <p class='h3'>${n.name}</p>\n                                                                        </div>\n                                                                        <p class="teddyCart__itemPrice text-secondary h5">${n.getFormatedPrice()}</p>\n                                                                    </div>\n                                                                </div>`,t+=n.price,document.querySelector(".teddyCart__sum").innerHTML=(t/100).toFixed(2)+" â‚¬"}))}(),document.querySelector(".btn--order").addEventListener("click",(function(){if(n(),n()){let n={contact:new ContactInfo(document.getElementById("firstName").value,document.getElementById("lastName").value,document.getElementById("address").value,document.getElementById("city").value,document.getElementById("email").value),products:e};fetch("http://localhost:3000/api/teddies/order",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.json()})).then((function(e){localStorage.setItem("orderID",e.orderId),localStorage.setItem("itemSum",t),localStorage.setItem("name",e.contact.firstName),localStorage.setItem("email",e.contact.email),localStorage.removeItem("cartList"),location.assign("confirmation.html")})).catch((function(e){console.error(e)}))}}))):function(){for(let e of document.querySelectorAll(".form input"))e.disabled=!0,document.querySelector(".btn--order").classList.replace("btn-primary","btn-outline-primary"),document.querySelector(".btn--order").setAttribute("value","Votre panier est vide !")}()}();
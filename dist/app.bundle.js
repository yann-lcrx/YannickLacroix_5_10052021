!function(){var e={579:function(){let e=getCart(),t=0;function o(){var e=!0;for(let t of document.querySelectorAll(".form input")){if(!(e&=t.reportValidity())){t.classList.remove("is-valid"),t.classList.add("is-invalid");break}t.classList.remove("is-invalid"),t.classList.add("is-valid")}if(e)return!0}e.length>0?function(){for(let o of e)fetch("http://localhost:3000/api/teddies/"+o).then((e=>e.json())).then((e=>{let o=new Teddy(e);document.querySelector(".teddyCart").innerHTML+=`<div class="teddyCart__item card d-flex flex-row mb-2">\n                                                                    <img src="${o.imageUrl}" alt="ours en peluche">\n                                                                    <div class='d-flex card-body flex-row justify-content-between'>\n                                                                        <div>\n                                                                            <p class='h3'>${o.name}</p>\n                                                                        </div>\n                                                                        <p class="teddyCart__itemPrice text-secondary h5">${o.getFormatedPrice()}</p>\n                                                                    </div>\n                                                                </div>`,t+=o.price,document.querySelector(".teddyCart__sum").innerHTML=(t/100).toFixed(2)+" €"}))}():function(){for(let e of document.querySelectorAll(".form input"))e.disabled=!0,document.querySelector(".btn--order").classList.replace("btn-primary","btn-outline-primary"),document.querySelector(".btn--order").setAttribute("value","Votre panier est vide !")}(),document.querySelector(".btn--order").addEventListener("click",(function(){if(o(),o()){let o={contact:new ContactInfo(document.getElementById("firstName").value,document.getElementById("lastName").value,document.getElementById("address").value,document.getElementById("city").value,document.getElementById("email").value),products:e};fetch("http://localhost:3000/api/teddies/order",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){if(e.ok)return e.json()})).then((function(e){localStorage.setItem("orderID",e.orderId),localStorage.setItem("itemSum",t),localStorage.setItem("name",e.contact.firstName),localStorage.setItem("email",e.contact.email),localStorage.removeItem("cartList"),location.assign("confirmation.html")})).catch((function(e){console.error(e)}))}}))},282:function(){function e(){localStorage.removeItem("name"),localStorage.removeItem("orderID"),localStorage.removeItem("itemSum"),localStorage.removeItem("email")}document.querySelector(".customerName").innerText=localStorage.getItem("name"),document.querySelector(".totalPrice").innerText=(localStorage.getItem("itemSum")/100).toFixed(2)+" €",document.querySelector(".email").innerText=localStorage.getItem("email"),document.querySelector(".orderID").innerText=localStorage.getItem("orderID"),document.querySelector(".btn--backToHome").addEventListener("click",(function(){e(),location.assign("home.html")}));for(let t of document.getElementsByTagName("nav"))t.addEventListener("click",e)},91:function(){(function(){let e=new URL("file:///C:/Users/vg-ad/OneDrive/Documents/WEB/Projet%205%20-%20orinoco/JWDP5/product.html");fetch("http://localhost:3000/api/teddies/").then((e=>e.json())).then((t=>{for(let o of t){let t=new Teddy(o);e.searchParams.set("id",t._id),document.querySelector(".teddyList").innerHTML+=`<a href="${e}" class="teddyList__item card shadow mb-3">\n                                                                    <img alt="ours en peluche" src=${t.imageUrl}>\n                                                                    <div class="card-body pb-1">\n                                                                        <h3 class="h5">${t.name}</h3>\n                                                                        <p>${t.getFormatedPrice()}</p>\n                                                                    </div>\n                                                                </a>\n                                                                `}}))})().catch((function(e){console.error(e)}))},289:function(){document.querySelector(".itemCount").innerText=function(){let e=localStorage.getItem("cartList");return null==e?[]:JSON.parse(e)}().length},133:function(){let e=new URL(window.location.href).searchParams.toString().slice(3);(void fetch("http://localhost:3000/api/teddies/"+e).then((e=>e.json())).then((t=>{let o=new Teddy(t);for(color of(document.querySelector(".teddyPage").innerHTML+=`<img src="${o.imageUrl}" alt="ours en peluche">\n                                                                    <div class="card-body">\n                                                                        <h1 class="h2">${o.name}</h1>\n                                                                        <p class="h5">Prix: <span class="text-secondary">${o.getFormatedPrice()}</span></p>\n                                                                        <p>Nos prix incluent la TVA</p>\n                                                                        <strong>Description de l'article</strong>\n                                                                        <p>${o.description}</p>\n                                                                        <select name="colorSelect" class="teddyPage__colorSelect">\n                                                                        \n                                                                        </select>\n                                                                        <button class="btn--addToCart btn-primary">Ajouter au panier</button>\n                                                                    </div>`,o.colors))document.querySelector(".teddyPage__colorSelect").innerHTML+="<option>"+color+"</option>";document.querySelector(".btn--addToCart").addEventListener("click",(function(t){t.stopPropagation,addToCart(e)}))}))).catch((function(e){console.error(e)}))}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";o(289),o(91),o(133),o(579),o(282)}()}();